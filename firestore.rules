rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    // Permite acesso total à coleção de transações.
    // Em um ambiente de produção, isso seria restrito ao usuário autenticado (e.g., if request.auth != null).
    match /transactions/{transactionId} {
      allow read, write: if true;
    }

    // Permite acesso total à coleção de proventos anunciados.
    // Esta regra corrige o erro "Missing or insufficient permissions".
    match /announced_dividends/{dividendId} {
      allow read, write: if true;
    }
  }
}
